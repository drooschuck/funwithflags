# Fun with Flags

"Fun with Flags" is an interactive and educational web application designed to test and expand your knowledge of world flags and geography. The app features a challenging quiz and an in-depth explorer, both powered by the Google Gemini API to provide engaging and informative content. It uses Supabase for user authentication and data persistence.

## Features

- **User Authentication**: Secure sign-up and login for a personalized experience.
- **Interactive Flag Quiz**: Test your knowledge by guessing the country from its flag with multiple-choice questions.
- **Real-Time Scoring**: Keep track of your score as you progress through the quiz.
- **Instant Feedback**: Receive immediate confirmation for correct or incorrect answers.
- **AI-Powered Fun Facts**: Discover interesting facts about countries, generated by the Gemini API.
- **Persistent, Shared Database**: All AI-generated facts are fetched once and stored in a shared Supabase database. This makes loading faster for all users over time and minimizes API calls.
- **Country & Flag Explorer**: Dive deep into the details of any country in our list.
- **Comprehensive Country Data**: The explorer provides a wealth of information, including flag symbolism, key data points, neighboring countries, and an embedded map.

## Technologies Used

- **Frontend**: [React](https://react.dev/) with [TypeScript](https://www.typescriptlang.org/)
- **Styling**: [Tailwind CSS](https://tailwindcss.com/)
- **AI Integration**: [Google Gemini API](https://ai.google.dev/)
- **Backend & Database**: [Supabase](https://supabase.io/)

## Supabase Setup

To run this project, you need a Supabase account.

1.  Create a new project in your Supabase dashboard.
2.  Go to the **SQL Editor** section.
3.  Copy the entire script from the `docs/sql-gen.md` file in this project.
4.  Paste the script into the SQL Editor and click **Run**. This will create the `countries` table and set up the necessary security policies.
5.  Find your Project URL and anon key in `Project Settings > API` and set them in the `supabaseClient.ts` file.

### Troubleshooting
**Error: "Could not find the table 'public.countries' in the schema cache"**

This error almost always means there's an issue with your database setup, specifically with Row Level Security (RLS).

1.  **Verify the Table Exists**: Go to the **Table Editor** in your Supabase dashboard and make sure you see the `countries` table. If not, re-run the script from `docs/sql-gen.md`. If it's there but you want to start fresh, you can run `DROP TABLE public.countries;` in the SQL Editor and then run the creation script again.
2.  **Verify RLS Policies**: Go to **Authentication > Policies**. Find the `countries` table in the list. You **must** see the three policies listed ("Allow authenticated read access", "Allow authenticated insert access", "Allow authenticated update access"). If any of them are missing, the app will not have permission to see or interact with the table, causing this error. Re-run the policy creation parts of the script if necessary.