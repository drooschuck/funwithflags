# Fun with Flags

"Fun with Flags" is an interactive and educational web application designed to test and expand your knowledge of world flags and geography. The app features a challenging quiz, an in-depth explorer, and is integrated with monetization and analytics features. It uses the Google Gemini API for engaging content and Supabase for user authentication and data persistence.

## Features

- **User Authentication**: Secure sign-up and login for a personalized experience.
- **Interactive Flag Quiz**: Test your knowledge with multiple-choice questions.
- **AI-Powered Fun Facts**: Discover interesting facts about countries, generated by the Gemini API.
- **Persistent, Shared Database**: AI-generated content is fetched once and stored in a shared Supabase database to improve performance and reduce API calls.
- **Country & Flag Explorer**: Dive deep into details like flag symbolism, key data points, neighboring countries, and an embedded map.
- **Monetization**: Integrated with Google AdSense, affiliate links, and a "Support the Developer" button.
- **Premium Tier**: Offers users an option to upgrade for an ad-free experience and exclusive content.
- **Analytics**: Tracks key user interactions using Google Analytics 4.
- **SEO Optimized**: Includes meta tags for better search engine discoverability.

## Technologies Used

- **Frontend**: [React](https://react.dev/) with [TypeScript](https://www.typescriptlang.org/)
- **Styling**: [Tailwind CSS](https://tailwindcss.com/)
- **AI Integration**: [Google Gemini API](https://ai.google.dev/)
- **Backend & Database**: [Supabase](https://supabase.io/)
- **Analytics**: [Google Analytics 4](https://analytics.google.com/)
- **Monetization**: [Google AdSense](https://www.google.com/adsense/)

## Configuration

Before running the application, you must replace the placeholder values in the code with your actual keys and links.

1.  **Google Analytics 4**: In `index.html`, replace `G-XXXXXXXXXX` with your GA4 Measurement ID.
2.  **Google AdSense**: In `index.html`, replace `ca-pub-XXXXXXXXXXXXXXXX` with your AdSense Publisher ID.
3.  **Affiliate Link**: In `AffiliateCard.tsx`, replace `#affiliate-link` with your partner URL.
4.  **Support Link**: In `Footer.tsx`, replace `https://buymeacoffee.com/yourname` with your personal donation link.

## Supabase Setup

To run this project, you need a Supabase account.

1.  Create a new project in your Supabase dashboard.
2.  Go to the **SQL Editor** section.
3.  Copy the entire script from the `docs/sql-gen.md` file in this project.
4.  Paste the script into the SQL Editor and click **Run**. This will create the `countries` table and set up the necessary security policies.
5.  Find your Project URL and anon key in `Project Settings > API` and set them in the `supabaseClient.ts` file.

### Troubleshooting
**Error: "Could not find the table 'public.countries' in the schema cache"**

This error almost always means there's an issue with your database setup, specifically with Row Level Security (RLS).

1.  **Verify the Table Exists**: Go to the **Table Editor** in your Supabase dashboard and make sure you see the `countries` table. If not, re-run the script from `docs/sql-gen.md`.
2.  **Verify RLS Policies**: Go to **Authentication > Policies**. Find the `countries` table in the list. You **must** see the three policies listed ("Allow authenticated read access", "Allow authenticated insert access", "Allow authenticated update access"). If any are missing, the app will not have permission to see or interact with the table, causing this error. Re-run the policy creation parts of the script if necessary.